# Plot 1: Stability
plot_stability(stab, threshold = 0.6)
title(sub = "Variables above red line are stable (>= 0.6)", line = 2.5, cex.sub = 0.8)
# Plot 2: Model exploration
plot_model_tree(paths, max_models = 20)
# Plot 3: Dashboard
plot_model_dashboard(paths, stab, plausible)
# Plot 4: Variable importance
plot_variable_importance(importance, top_n = 7)
print("")
print("================================================================================")
print("TESTING LOGISTIC REGRESSION")
print("================================================================================")
X2 <- matrix(rnorm(120 * 6), 120, 6)
colnames(X2) <- paste0("x", 1:6)
# True model: P(y=1) depends on x1 and x2
eta <- X2[,1] - 0.5*X2[,2]
prob <- 1 / (1 + exp(-eta))
y2 <- rbinom(120, 1, prob)
print(sprintf("Created binary outcome: %.1f%% positive class", 100*mean(y2)))
paths2 <- build_paths(X2, y2, family = "binomial", K = 4, verbose = FALSE)
stab2 <- stability(X2, y2, family = "binomial", B = 20, K = 4, verbose = FALSE)
plausible2 <- plausible_models(paths2, stab2, Delta = 2, tau = 0.5,
refit = TRUE, X = X2, y = y2)
print("")
print("Logistic Regression Results:")
print(plausible2[, c("variables", "aic", "avg_stability")])
if (nrow(plausible2) > 0) {
print("")
print("Performance of Best Model:")
metrics <- confusion_metrics(plausible2$fitted_model[[1]], X2, y2)
print(metrics$confusion_matrix)
print("")
print(metrics$metrics)
}
print("")
print("================================================================================")
# 1. Document
devtools::document()
# 2. Check
devtools::check()
# 3. Install
devtools::install()
library(multipathaic)
set.seed(123)
data(mtcars)
X_cars <- as.matrix(mtcars[, c("cyl", "disp", "hp", "drat", "wt", "qsec", "vs", "am", "gear", "carb")])
y_cars <- mtcars$mpg
X_cars
y_cars
# Run algorithms
paths_cars <- build_paths(X_cars, y_cars, family = "gaussian", K = 6, delta = 2, verbose = FALSE)
paths_cars
stab_cars <- stability(X_cars, y_cars, family = "gaussian", B = 40, K = 6, verbose = FALSE)
stab_cars
plausible_cars <- plausible_models(paths_cars, stab_cars, Delta = 3, tau = 0.5, refit = TRUE, X = X_cars, y = y_cars)
# Helper functions
all_models_cars <- extract_all_models(paths_cars)
importance_cars <- variable_importance_ranking(paths_cars, stab_cars)
all_models_cars
# Plots
plot_stability(stab_cars, threshold = 0.5, top_n = 10)
plot_aic_by_step(paths_cars)
plot_model_tree(paths_cars, max_models = 20)
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars)
plot_model_dashboard(paths_cars, stab_cars, plausible_cars)
plot_stability_distribution(stab_cars, top_n = 6)
plot_variable_importance(importance_cars, top_n = 10)
data(iris)
X_iris <- as.matrix(iris[, 1:4])
y_iris <- as.numeric(iris$Species == "setosa")
colnames(X_iris) <- c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width")
# Run algorithms
paths_iris <- build_paths(X_iris, y_iris, family = "binomial", K = 4, delta = 2, verbose = FALSE)
stab_iris <- stability(X_iris, y_iris, family = "binomial", B = 30, K = 4, verbose = FALSE)
plausible_iris <- plausible_models(paths_iris, stab_iris, Delta = 2, tau = 0.5, refit = TRUE, X = X_iris, y = y_iris)
paths_iris
stab_iris
plausible_iris
# Results
print(paths_iris)
print(stab_iris)
print(plausible_iris)
# Classification metrics
if (nrow(plausible_iris) > 0) {
metrics_iris <- confusion_metrics(plausible_iris$fitted_model[[1]], X_iris, y_iris)
print(metrics_iris$confusion_matrix)
print(metrics_iris$metrics)
}
# Classification metrics
if (nrow(plausible_iris) > 0) {
metrics_iris <- confusion_metrics(plausible_iris$fitted_model[[1]], X_iris, y_iris)
print(metrics_iris$confusion_matrix)
print(metrics_iris$metrics)
}
# Plots
plot_stability(stab_iris, threshold = 0.5)
plot_model_tree(paths_iris, max_models = 15)
# Custom colors
plot_stability(stab_cars, top_n = 10, col_stable = "darkgreen", col_unstable = "orange", col_threshold = "purple")
plot_aic_by_step(paths_cars, col_box = "lightyellow", col_border = "darkorange", col_median = "darkblue", col_best = "red")
plot_model_tree(paths_cars, max_models = 20, col_models = "lightgreen", col_best = "purple", col_line = "orange")
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars, col_palette = c("white", "yellow", "orange", "red"))
plot_model_dashboard(paths_cars, stab_cars, plausible_cars, col_stability = "purple", col_size = "green")
plot_variable_importance(importance_cars, top_n = 10, col_bars = c("yellow", "red"), col_stability = "blue")
data.frame(
Dataset = c("mtcars", "iris"),
Task = c("Predict MPG", "Classify Setosa"),
ModelsExplored = c(nrow(all_models_cars), nrow(extract_all_models(paths_iris))),
PlausibleModels = c(nrow(plausible_cars), nrow(plausible_iris)),
MostStable = c(names(which.max(stab_cars$pi)), names(which.max(stab_iris$pi))),
Stability = c(max(stab_cars$pi), max(stab_iris$pi))
)
# 1. Replace R/helpers.R with the code above
# 2. Document
devtools::document()
# 3. Check (optional but recommended)
devtools::check()
# 4. Install
devtools::install()
library(multipathaic)
set.seed(123)
data(mtcars)
X_cars <- as.matrix(mtcars[, c("cyl", "disp", "hp", "drat", "wt", "qsec", "vs", "am", "gear", "carb")])
y_cars <- mtcars$mpg
# Run algorithms
paths_cars <- build_paths(X_cars, y_cars, family = "gaussian", K = 6, delta = 2, verbose = FALSE)
stab_cars <- stability(X_cars, y_cars, family = "gaussian", B = 40, K = 6, verbose = FALSE)
plausible_cars <- plausible_models(paths_cars, stab_cars, Delta = 3, tau = 0.5, refit = TRUE, X = X_cars, y = y_cars)
# Results
print(paths_cars)
print(stab_cars)
print(plausible_cars)
# Helper functions
all_models_cars <- extract_all_models(paths_cars)
importance_cars <- variable_importance_ranking(paths_cars, stab_cars)
print(importance_cars)
# Plots
plot_stability(stab_cars, threshold = 0.5, top_n = 10)
plot_aic_by_step(paths_cars)
plot_model_tree(paths_cars, max_models = 20)
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars)
plot_model_dashboard(paths_cars, stab_cars, plausible_cars)
plot_stability_distribution(stab_cars, top_n = 6)
plot_variable_importance(importance_cars, top_n = 10)
data(iris)
X_iris <- as.matrix(iris[, 1:4])
y_iris <- as.numeric(iris$Species == "setosa")
colnames(X_iris) <- c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width")
# Run algorithms
paths_iris <- build_paths(X_iris, y_iris, family = "binomial", K = 4, delta = 2, verbose = FALSE)
stab_iris <- stability(X_iris, y_iris, family = "binomial", B = 30, K = 4, verbose = FALSE)
plausible_iris <- plausible_models(paths_iris, stab_iris, Delta = 2, tau = 0.5, refit = TRUE, X = X_iris, y = y_iris)
# Results
print(paths_iris)
print(stab_iris)
print(plausible_iris)
# Classification metrics
if (nrow(plausible_iris) > 0) {
metrics_iris <- confusion_metrics(plausible_iris$fitted_model[[1]], X_iris, y_iris)
print(metrics_iris$confusion_matrix)
print(metrics_iris$metrics)
}
# Plots
plot_stability(stab_iris, threshold = 0.5)
plot_model_tree(paths_iris, max_models = 15)
# Custom colors
plot_stability(stab_cars, top_n = 10, col_stable = "darkgreen", col_unstable = "orange", col_threshold = "purple")
plot_aic_by_step(paths_cars, col_box = "lightyellow", col_border = "darkorange", col_median = "darkblue", col_best = "red")
plot_model_tree(paths_cars, max_models = 20, col_models = "lightgreen", col_best = "purple", col_line = "orange")
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars, col_palette = c("white", "yellow", "orange", "red"))
plot_model_dashboard(paths_cars, stab_cars, plausible_cars, col_stability = "purple", col_size = "green")
plot_variable_importance(importance_cars, top_n = 10, col_bars = c("yellow", "red"), col_stability = "blue")
data.frame(
Dataset = c("mtcars", "iris"),
Task = c("Predict MPG", "Classify Setosa"),
ModelsExplored = c(nrow(all_models_cars), nrow(extract_all_models(paths_iris))),
PlausibleModels = c(nrow(plausible_cars), nrow(plausible_iris)),
MostStable = c(names(which.max(stab_cars$pi)), names(which.max(stab_iris$pi))),
Stability = c(max(stab_cars$pi), max(stab_iris$pi))
)
library(multipathaic)
set.seed(123)
data(mtcars)
X_cars <- as.matrix(mtcars[, c("cyl", "disp", "hp", "drat", "wt", "qsec", "vs", "am", "gear", "carb")])
y_cars <- mtcars$mpg
# Run algorithms
paths_cars <- build_paths(X_cars, y_cars, family = "gaussian", K = 6, delta = 2, verbose = FALSE)
stab_cars <- stability(X_cars, y_cars, family = "gaussian", B = 40, K = 6, verbose = FALSE)
plausible_cars <- plausible_models(paths_cars, stab_cars, Delta = 3, tau = 0.5, refit = TRUE, X = X_cars, y = y_cars)
# Results
print(paths_cars)
print(stab_cars)
print(plausible_cars)
# Helper functions
all_models_cars <- extract_all_models(paths_cars)
importance_cars <- variable_importance_ranking(paths_cars, stab_cars)
print(importance_cars)
# Plots
plot_stability(stab_cars, threshold = 0.5, top_n = 10)
plot_aic_by_step(paths_cars)
plot_model_tree(paths_cars, max_models = 20)
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars)
plot_model_dashboard(paths_cars, stab_cars, plausible_cars)
plot_stability_distribution(stab_cars, top_n = 6)
plot_variable_importance(importance_cars, top_n = 10)
data(iris)
X_iris <- as.matrix(iris[, 1:4])
y_iris <- as.numeric(iris$Species == "setosa")
colnames(X_iris) <- c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width")
# Run algorithms
paths_iris <- build_paths(X_iris, y_iris, family = "binomial", K = 4, delta = 2, verbose = FALSE)
stab_iris <- stability(X_iris, y_iris, family = "binomial", B = 30, K = 4, verbose = FALSE)
plausible_iris <- plausible_models(paths_iris, stab_iris, Delta = 2, tau = 0.5, refit = TRUE, X = X_iris, y = y_iris)
# Results
print(paths_iris)
print(stab_iris)
print(plausible_iris)
# Classification metrics
if (nrow(plausible_iris) > 0) {
metrics_iris <- confusion_metrics(plausible_iris$fitted_model[[1]], X_iris, y_iris)
print(metrics_iris$confusion_matrix)
print(metrics_iris$metrics)
}
# Plots
plot_stability(stab_iris, threshold = 0.5)
plot_model_tree(paths_iris, max_models = 15)
# Custom colors
plot_stability(stab_cars, top_n = 10, col_stable = "darkgreen", col_unstable = "orange", col_threshold = "purple")
plot_aic_by_step(paths_cars, col_box = "lightyellow", col_border = "darkorange", col_median = "darkblue", col_best = "red")
plot_model_tree(paths_cars, max_models = 20, col_models = "lightgreen", col_best = "purple", col_line = "orange")
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars, col_palette = c("white", "yellow", "orange", "red"))
plot_model_dashboard(paths_cars, stab_cars, plausible_cars, col_stability = "purple", col_size = "green")
plot_variable_importance(importance_cars, top_n = 10, col_bars = c("yellow", "red"), col_stability = "blue")
data.frame(
Dataset = c("mtcars", "iris"),
Task = c("Predict MPG", "Classify Setosa"),
ModelsExplored = c(nrow(all_models_cars), nrow(extract_all_models(paths_iris))),
PlausibleModels = c(nrow(plausible_cars), nrow(plausible_iris)),
MostStable = c(names(which.max(stab_cars$pi)), names(which.max(stab_iris$pi))),
Stability = c(max(stab_cars$pi), max(stab_iris$pi))
)
library(multipathaic)
# Check if color parameters exist
?plot_stability
# You should see:
# col_stable, col_unstable, col_threshold in the help
# 1. Remove old version completely
remove.packages("multipathaic")
# 2. Clear workspace
rm(list = ls())
# 4. Reinstall from your package folder
# Make sure you're in the package directory
setwd("~/Documents/R /R Programing/Final Project/Multipathaic")
devtools::install()
library(multipathaic)
library(multipathaic)
remove.packages("multipathaic")
setwd("~/Documents/R /R Programing/Final Project/Multipathaic")
devtools::document()
devtools::install()
.rs.restartR()
library(multipathaic)
```
# This removes the corrupted files
system("rm -rf /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library/multipathaic")
# Now reinstall
setwd("~/Documents/R /R Programing/Final Project/Multipathaic")
devtools::install()
.rs.restartR()
library(multipathaic)
library(multipathaic)
set.seed(123)
data(mtcars)
X_cars <- as.matrix(mtcars[, c("cyl", "disp", "hp", "drat", "wt", "qsec", "vs", "am", "gear", "carb")])
y_cars <- mtcars$mpg
# Run algorithms
paths_cars <- build_paths(X_cars, y_cars, family = "gaussian", K = 6, delta = 2, verbose = FALSE)
stab_cars <- stability(X_cars, y_cars, family = "gaussian", B = 40, K = 6, verbose = FALSE)
plausible_cars <- plausible_models(paths_cars, stab_cars, Delta = 3, tau = 0.5, refit = TRUE, X = X_cars, y = y_cars)
# Results
print(paths_cars)
print(stab_cars)
print(plausible_cars)
# Helper functions
all_models_cars <- extract_all_models(paths_cars)
importance_cars <- variable_importance_ranking(paths_cars, stab_cars)
print(importance_cars)
# Plots
plot_stability(stab_cars, threshold = 0.5, top_n = 10)
plot_aic_by_step(paths_cars)
plot_model_tree(paths_cars, max_models = 20)
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars)
plot_model_dashboard(paths_cars, stab_cars, plausible_cars)
plot_stability_distribution(stab_cars, top_n = 6)
plot_variable_importance(importance_cars, top_n = 10)
data(iris)
X_iris <- as.matrix(iris[, 1:4])
y_iris <- as.numeric(iris$Species == "setosa")
colnames(X_iris) <- c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width")
# Run algorithms
paths_iris <- build_paths(X_iris, y_iris, family = "binomial", K = 4, delta = 2, verbose = FALSE)
warnings()
library(multipathaic)
set.seed(123)
data(mtcars)
X_cars <- as.matrix(mtcars[, c("cyl", "disp", "hp", "drat", "wt", "qsec")])
y_cars <- mtcars$mpg
# Run algorithms
paths_cars <- build_paths(X_cars, y_cars, family = "gaussian", K = 5, delta = 2, verbose = FALSE)
stab_cars <- stability(X_cars, y_cars, family = "gaussian", B = 40, K = 5, verbose = FALSE)
plausible_cars <- plausible_models(paths_cars, stab_cars, Delta = 3, tau = 0.5, refit = TRUE, X = X_cars, y = y_cars)
# Results
print(paths_cars)
print(stab_cars)
print(plausible_cars)
# Helper functions
all_models_cars <- extract_all_models(paths_cars)
importance_cars <- variable_importance_ranking(paths_cars, stab_cars)
print(importance_cars)
# Plots
plot_stability(stab_cars, threshold = 0.5, top_n = 6)
plot_aic_by_step(paths_cars)
plot_model_tree(paths_cars, max_models = 20)
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars)
plot_model_dashboard(paths_cars, stab_cars, plausible_cars)
plot_stability_distribution(stab_cars, top_n = 5)
plot_variable_importance(importance_cars, top_n = 6)
# Use mtcars to predict transmission type (am: 0=automatic, 1=manual)
data(mtcars)
X_trans <- as.matrix(mtcars[, c("mpg", "cyl", "disp", "hp", "wt", "qsec")])
y_trans <- mtcars$am  # 0 = automatic, 1 = manual
# Run algorithms
paths_trans <- build_paths(X_trans, y_trans, family = "binomial", K = 4, delta = 2, verbose = FALSE)
# Run algorithms
paths_trans <- build_paths(X_trans, y_trans, family = "binomial", K = 4, delta = 2, verbose = FALSE)
stab_trans <- stability(X_trans, y_trans, family = "binomial", B = 30, K = 4, verbose = FALSE)
plausible_trans <- plausible_models(paths_trans, stab_trans, Delta = 2, tau = 0.5, refit = TRUE, X = X_trans, y = y_trans)
# Results
print(paths_trans)
print(stab_trans)
print(plausible_trans)
# Classification metrics - THIS WILL WORK NOW!
if (nrow(plausible_trans) > 0) {
metrics_trans <- confusion_metrics(plausible_trans$fitted_model[[1]], X_trans, y_trans)
print(metrics_trans$confusion_matrix)
print(metrics_trans$metrics)
}
# Plots
plot_stability(stab_trans, threshold = 0.5)
plot_model_tree(paths_trans, max_models = 15)
# Custom colors
plot_stability(stab_cars, top_n = 6, col_stable = "darkgreen", col_unstable = "orange", col_threshold = "purple")
plot_aic_by_step(paths_cars, col_box = "lightyellow", col_border = "darkorange", col_median = "darkblue", col_best = "red")
plot_model_tree(paths_cars, max_models = 20, col_models = "lightgreen", col_best = "purple", col_line = "orange")
if (nrow(plausible_cars) > 1) plot_variable_heatmap(plausible_cars, col_palette = c("white", "yellow", "orange", "red"))
plot_model_dashboard(paths_cars, stab_cars, plausible_cars, col_stability = "purple", col_size = "green")
plot_variable_importance(importance_cars, top_n = 6, col_bars = c("yellow", "red"), col_stability = "blue")
data.frame(
Dataset = c("mtcars-MPG", "mtcars-Transmission"),
Task = c("Predict MPG", "Predict Transmission"),
Family = c("Linear", "Logistic"),
ModelsExplored = c(nrow(all_models_cars), nrow(extract_all_models(paths_trans))),
PlausibleModels = c(nrow(plausible_cars), nrow(plausible_trans)),
MostStable = c(names(which.max(stab_cars$pi)), names(which.max(stab_trans$pi))),
Stability = c(max(stab_cars$pi), max(stab_trans$pi))
)
library(multipathaic)
set.seed(123)
data(mtcars)
X_cars <- as.matrix(mtcars[, c("cyl", "disp", "hp", "drat", "wt", "qsec")])
y_cars <- mtcars$mpg
# Run algorithms
paths_cars <- build_paths(X_cars, y_cars, family = "gaussian", K = 5, delta = 2, verbose = FALSE)
stab_cars <- stability(X_cars, y_cars, family = "gaussian", B = 40, K = 5, verbose = FALSE)
plausible_cars <- plausible_models(paths_cars, stab_cars, Delta = 3, tau = 0.5, refit = TRUE, X = X_cars, y = y_cars)
# Results
print(paths_cars)
print(stab_cars)
print(plausible_cars)
# Helper functions
all_models_cars <- extract_all_models(paths_cars)
all_models_cars
#' Run the multipathaic Shiny Web Application
#'
#' Launches the full multipathaic dashboard.
#'
#' @export
run_multipathaic_app <- function() {
app_dir <- system.file("app", package = "multipathaic")
if (app_dir == "") {
stop("App directory not found. Make sure inst/app/app.R exists.")
}
shiny::runApp(app_dir, launch.browser = TRUE)
}
#' Run the multipathaic Shiny Web Application
#'
#' Launches the full multipathaic dashboard.
#'
#' @export
run_multipathaic_app <- function() {
app_dir <- system.file("app", package = "multipathaic")
if (app_dir == "") {
stop("App directory not found. Make sure inst/app/app.R exists.")
}
shiny::runApp(app_dir, launch.browser = TRUE)
}
devtools::document()
devtools::document ()
devtools::document()
install.packages("devtools")
library(devtools)
devtools::document()
devtools::install()
rm(list = c("run_multipathaic_app"))
devtools::document()
devtools::install()
#' Run the multipathaic Shiny Web Application
#'
#' Launches the full multipathaic dashboard.
#'
#' @export
run_multipathaic_app <- function() {
app_dir <- system.file("app", package = "multipathaic")
if (app_dir == "") {
stop("App directory not found. Make sure inst/app/app.R exists.")
}
shiny::runApp(app_dir, launch.browser = TRUE)
}
library(multipathaic)
run_multipathaic_app()
library(multipathaic)
run_multipathaic_app()
library(multipathaic)
run_multipathaic_app()
#' Run the multipathaic Shiny Web Application
#'
#' Launches the full multipathaic dashboard.
#'
#' @export
run_multipathaic_app <- function() {
app_dir <- system.file("app", package = "multipathaic")
if (app_dir == "") {
stop("App directory not found. Make sure inst/app/app.R exists.")
}
shiny::runApp(app_dir, launch.browser = TRUE)
}
run_multipathaic_app()
library(multipathaic)
devtools::document()
rm(list = c("run_multipathaic_app"))
devtools::install()
library(multipathaic)
run_multipathaic_app()
library(multipathaic)
run_multipathaic_app()
install.packages("multipathaic")
install.packages(c(
"shiny",
"shinydashboard",
"ggplot2",
"dplyr",
"tidyr"
))
install.packages(c(
"shiny",
"shinydashboard",
"ggplot2",
"dplyr",
"tidyr"
))
run_multipathaic_app()
library(multipathaic)
run_multipathaic_app()
run_multipathaic_app()
install.packages("multipathaic")
getwd()
library(devtools)
devtools::document()
devtools::install(dependencies = TRUE)
1
library(multipathaic)
run_multipathaic_app()
install.packages("multipathaic")
run_multipathaic_app()
run_multipathaic_app()
library(multipathaic)
run_multipathaic_app()
install.packages("multipathaic")
library(multipathaic)
run_multipathaic_app()
install.packages("multipathaic")
#' Run the multipathaic Shiny Web Application
#'
#' Launches the full multipathaic dashboard.
#'
#' @export
run_multipathaic_app <- function() {
app_dir <- system.file("app", package = "multipathaic")
if (app_dir == "") {
stop("App directory not found. Make sure inst/app/app.R exists.")
}
shiny::runApp(app_dir, launch.browser = FALSE)
}
library(multipathaic)
run_multipathaic_app()
install.packages("multipathaic")
devtools::document()
rm(list = c("run_multipathaic_app"))
devtools::install()
library(multipathaic)
run_multipathaic_app()
